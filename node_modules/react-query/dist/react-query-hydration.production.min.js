!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-query")):"function"==typeof define&&define.amd?define(["exports","react","react-query"],t):t((e=e||self).ReactQueryHydration={},e.React,e.ReactQuery)}(this,(function(e,t,u){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var u=arguments[t];for(var r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r])}return e}).apply(this,arguments)}function a(e){return e.state.isPaused}function n(e){return"success"===e.state.status}function o(e,t,u){if("object"==typeof t&&null!==t){var a=e.getMutationCache(),n=e.getQueryCache(),o=t.mutations||[],i=t.queries||[];o.forEach((function(t){var n;a.build(e,r({},null==u||null==(n=u.defaultOptions)?void 0:n.mutations,{mutationKey:t.mutationKey}),t.state)})),i.forEach((function(t){var a,o=n.get(t.queryHash);o?o.state.dataUpdatedAt<t.state.dataUpdatedAt&&o.setState(t.state):n.build(e,r({},null==u||null==(a=u.defaultOptions)?void 0:a.queries,{queryKey:t.queryKey,queryHash:t.queryHash}),t.state)}))}}function i(e,r){var a=u.useQueryClient(),n=t.useRef(r);n.current=r,t.useMemo((function(){e&&o(a,e,n.current)}),[a,e])}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;e.Hydrate=function(e){var t=e.children,u=e.options;return i(e.state,u),t},e.dehydrate=function(e,t){var u,r,o=[],i=[];if(!1!==(null==(u=t=t||{})?void 0:u.dehydrateMutations)){var s=t.shouldDehydrateMutation||a;e.getMutationCache().getAll().forEach((function(e){s(e)&&o.push(function(e){return{mutationKey:e.options.mutationKey,state:e.state}}(e))}))}if(!1!==(null==(r=t)?void 0:r.dehydrateQueries)){var c=t.shouldDehydrateQuery||n;e.getQueryCache().getAll().forEach((function(e){c(e)&&i.push(function(e){return{state:e.state,queryKey:e.queryKey,queryHash:e.queryHash}}(e))}))}return{mutations:o,queries:i}},e.hydrate=o,e.useHydrate=i,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=react-query-hydration.production.min.js.map
